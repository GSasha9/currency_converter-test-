(()=>{"use strict";var e,t,n,a={BYN:{Abbreviation:"BYN",Name:"Belarusian ruble",Rates:{USD:.31,EUR:.3,CNY:2.3,RUB:27.7,BYN:1}},USD:{Abbreviation:"USD",Name:"Dollar",Rates:{BYN:3.2,EUR:.96,CNY:7.38,RUB:88.34,USD:1}},EUR:{Abbreviation:"EUR",Name:"Euro",Rates:{USD:1.03,BYN:3.33,CNY:7.67,RUB:92.25,EUR:1}},CNY:{Abbreviation:"CNY",Name:"Yuan",Rates:{USD:.13,EUR:.13,BYN:.43,RUB:12.01,CNY:1}},RUB:{Abbreviation:"RUB",Name:"Russian ruble",Rates:{USD:.013,EUR:.01,CNY:.083,BYN:.036,RUB:1}}},r=(e=a,t={},n=new Date,Object.keys(e).forEach((function(a){for(var r=a,o={},c=function(t){var a=new Date;a.setDate(n.getDate()-t);var c=a.toISOString().split("T")[0],i={};Object.keys(e[r].Rates).forEach((function(t){var n=t,a=e[r].Rates[n],o=parseFloat(((.2*Math.random()+.9)*a).toFixed(2));i[n]=o})),o[c]=i},i=1;i<=14;i+=1)c(i);t[r]={Abbreviation:r,archive:o}})),t);function o(){var e=document.querySelector(".currency__select");if(e instanceof HTMLSelectElement)return e.value;console.warn("Element '.currency__select' not found")}var c=function(e){var t,n=e.tag,a=void 0===n?"div":n,r=e.textContent,o=void 0===r?"":r,c=e.parent,i=e.classes,u=void 0===i?[]:i,l=document.createElement(a);return l.textContent=o,u.length>0&&(t=l.classList).add.apply(t,u),null!==c&&c!==document.querySelector("body")?c.append(l):c.prepend(l),l};function i(e){var t=document.querySelector(".amount__input");if(!(t instanceof HTMLInputElement)||""===t.value.trim())return 0;var n=parseFloat(t.value);return isNaN(n)?0:Math.round(e*n*100)/100}function u(){var e=document.querySelector(".header__message");e.textContent="";var t=document.querySelector(".header__date-input");if(!(t instanceof HTMLInputElement))return console.warn("Element '.header__date-input' not found."),null;var n=new Date(t.value),a=new Date,r=864e5,o=Math.floor(a.getTime()/r),c=Math.floor(n.getTime()/r);return o-c>14?(e.textContent="The rates are only available for the last two weeks",setTimeout((function(){t.value=new Date((o-14)*r).toISOString().split("T")[0],e.textContent=""}),5e3)):o-c<0&&(e.textContent="The rates are only available for the last two weeks",setTimeout((function(){t.value=new Date(o*r).toISOString().split("T")[0],e.textContent=""}),5e3)),t.value}function l(){var e=document.querySelector(".conversion");if(e instanceof HTMLElement){e.innerHTML="";var t=o().toUpperCase(),n=u(),l=new Date;n!==l.toISOString().split("T")[0]?Object.keys(r).forEach((function(a){if(a===t){var o=r[a].archive[n];if(!o)return console.warn("No data in the archive"),void c({tag:"label",parent:e,classes:["conversion__input"],textContent:"Enter amount for conversion and press Enter"});Object.keys(o).forEach((function(n){var a=n;if(a!==t){var r=o[a];c({tag:"label",parent:e,classes:["conversion__input"],textContent:"".concat(a," - ").concat(i(r),"  ")})}}))}})):Object.keys(a).forEach((function(n){var r=n;if(r!==t){var o=a[r],u=a[t].Rates[r];if(isNaN(u))return void console.log("Invalid rate for ".concat(t," in ").concat(r));c({tag:"label",parent:e,classes:["conversion__input"],textContent:"".concat(o.Abbreviation," - ").concat(i(u),"    ")})}}))}}!function(){var e=document.querySelector(".header__date-input");if(e instanceof HTMLInputElement){var t=(new Date).toISOString().split("T")[0];e.value=t}}(),l(),document.querySelector(".header__date-input").addEventListener("change",u),document.querySelector(".header__date-input").addEventListener("change",l),document.querySelector(".currency__select").addEventListener("change",o),document.querySelector(".currency__select").addEventListener("change",l),document.querySelector(".amount__input").addEventListener("keyup",l),console.log(r)})();